<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>create ImgArray</title>
    <script src="../Imagelib.js"></script>
</head>

<body>
    <h1>ImgArray.constructor</h1>

    <h2>Declaration</h2>
    <p>
        constructor({height=256,
        width=256,channel=3,lazy=false,dtype='float32'}={})
    </p>

    <h2>Function Description</h2>
    <p>
        contruction function of ImgArray, create an ImgArray object,with
        parameters height, width, channel, lazy and dtype.
    </p>
    <h2>Parameter Description</h2>
    <ul>
        <li>height: height of the image, default is 256.</li>
        <li>width: width of the image, default is 256.</li>
        <li>channel: channel of the image, default is 3.</li>
        <li>
            lazy: whether to skip allocating the memory when initiating
            ImageArray, default is false. when lazy is false, the default element
            value is 0.
        </li>
        <li>
            dtype: the element type of ImgArray, dtype can be one of 'float32',
            'uint8','uint16','int32','uint32','cuint8', default is 'float32'.
            dtype 'float32' are currently tested well,other types are not tested.
            The ImgArray.dtypenames property can get all supported types.
        </li>
    </ul>

    <h2>Demons</h2>

    <!--A Demo-->
    <h3>Demo1</h3>
    <p>create a ImgArray and show it as matrix.</p>
    <h4>Code</h4>
    <pre id="demo1"></pre>
    <h4>Result</h4>
    <div id="demo1result"></div>

    <script id="demo1code">
        var arr = new ImgArray({ width: 4, height: 3, channel: 2 });
    </script>

    <script>
        var arrstr = arr.toString();
        var result = document.getElementById("demo1result");
        var code = document.getElementById("demo1code");
        var demo1 = document.getElementById("demo1");
        demo1.innerText = code.innerText;
        result.innerText = arrstr;
    </script>

    <!--A Demo-->
    <h3>Demo2</h3>
    <p>create a ImgArray and show it as Image.</p>
    <h4>Code</h4>
    <pre id="demo2"></pre>
    <h4>Result</h4>
    <canvas id="demo2result"></canvas>
    <script id="demo2code">
        // an array can be shown as image, should have channel 1,3,or 4
        var arr = new ImgArray({ width: 200, height: 100, channel: 1 });
    </script>
    <script>
        var demo1 = document.getElementById('demo2');
        var result = document.getElementById('demo2result');
        var code = document.getElementById('demo2code');
        demo1.innerText = code.innerText;
        arr.show({ cas: result });
    </script>
</body>

</html>
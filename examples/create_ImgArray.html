<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>create ImgArray</title>
    <script src="../Imagelib.js"></script>
</head>

<body>
    <div>
        <h2>Create ImgArray</h2>
        <p>
            constructor({height=256, width=256,channel=3,lazy=false,dtype='float32'}={})
        </p>
        <p>
            contruction function，create an ImgArray object，with parameters height, width, channel, lazy, dtype,
            dtype can be one of 'float32','uint8','uint16','int32','uint32','cuint8', dtype 'float32' are currently tested,
            other types are not tested. The default value is 0.1
        </p>
        </p>
        <p>
            构造函数，创建一个ImgArray对象，参数为高、宽、通道数、创建时不分配空间，数组中元素的类型,默认值是0。
        </p>
        <label for="widthInput">Width:</label>
        <input type="number" id="widthInput" min="0" max="100000" value="256" />
        <label for="heightInput">Height:</label>
        <input type="number" id="heightInput" min="0" max="100000" value="256" />
        <label for="channelsInput">Channels:</label>
        <input type="number" id="channelsInput" min="1" max="4" value="3" />
        <button onclick="createImgArray()">Create ImgArray</button><br />
        <textarea id="imgArrayResult" rows="4" cols="50" readonly style="width: 97.5vw; font-size: 17px"></textarea>
        <canvas id="imgcanvas" style="border: 1px solid black"></canvas>
    </div>
    <script>
        let cas=document.querySelector('#imgcanvas');
        function createImgArray() {
            let width = parseInt(document.querySelector("#widthInput").value);
            let height = parseInt(document.querySelector("#heightInput").value);
            let channel = parseInt(document.querySelector("#channelsInput").value);
            //create ImgArray instance
            imgArr = new ImgArray({ width, height, channel, lazy: false });
            //show as image 
            imgArr.show({ cas: cas });
            document.querySelector(
                "#imgArrayResult"
            ).value = `ImgArray shape: ${imgArr.shape}\nImgArray value: ${imgArr.data}`;
        }
    </script>
</body>

</html>